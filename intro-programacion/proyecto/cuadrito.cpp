#include <iostream>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

using namespace std;

int filas, columnas;
int x = 0, xfinal = 0, y = 0, yfinal = 0;
int ultx = 0, ulty = 0, dificultad = 0;
int puntaje = 0, contadorCod=0, contador=0, guardada=0;

string tablero[42][122] ={{"   ","1","  ","2","  ","3","  ","4","  ","5","  ","6","  ","7","  ","8","  ","9","  ","10"," ","11"," ","12"," ","13"," ","14"," ","15"," ","16"," ","17"," ","18"," ","19"," ","20"," ","21"," ","22"," ","23"," ","24"," ","25"," ","26"," ","27"," ","28"," ","29"," ","30"," ","31"," ","32"," ","33"," ","34"," ","35"," ","36"," ","37"," ","38"," ","39"," ","40"," ","41"," ","42"," ","43"," ","44"," ","45"," ","46"," ","47"," ","48"," ","49"," ","50"," ","51"," ","52"," ","53"," ","54"," ","55"," ","56"," ","57"," ","58"," ","59"," ","60"," ","61"},
                          {" 1 ",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 2 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 3 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 4 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 5 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 6 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 7 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 8 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {" 9 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"10 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"11 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"12 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"13 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"14 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"15 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"16 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"17 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"18 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"19 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"20 ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ",".","  ","."},
                          {"   ","|","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  "," ","  ","|"},
                          {"21 ",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--",".","--","."}}; 

FILE *jugadores;

struct InfoJugadores{
    int codigoJugador;
    char nombre[50];
    char apellido[50];
    char alias[50];
    int jugados;
    int ganados;
};

void jugar();
void configuraciones();
void administrarJugadores(struct InfoJugadores nuevoJug);
void eliminarJug(struct InfoJugadores nuevoJug);
void estadisticas(struct InfoJugadores nuevoJug);
void eliminar(struct InfoJugadores nuevoJug);

int main(){
    string temp;
    InfoJugadores nuevoJug;
    int menu = 0, salir=0;
    jugadores = fopen("jugadores.txt","r+");
    if(jugadores == NULL){
        jugadores = fopen("jugadores.txt","w");
        fclose(jugadores);
        jugadores = fopen("jugadores.txt","r+");
        nuevoJug.codigoJugador = contadorCod;
        temp = "Inicio";
        strcpy(nuevoJug.nombre,temp.c_str());
        strcpy(nuevoJug.apellido,temp.c_str());
        strcpy(nuevoJug.alias,temp.c_str());
        nuevoJug.jugados = 0;
        nuevoJug.ganados = 0;
        fwrite(&nuevoJug,sizeof(nuevoJug),1,jugadores);
        fclose(jugadores);
        jugadores = fopen("jugadores.txt","r+");
    }
    fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
    while(!feof(jugadores)){
        fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
        contador++;
    }
    contador = nuevoJug.codigoJugador;
    contadorCod++;
    while(salir==0){
        cout << "Bienvenido, a que menú desea ingresar? 1)jugar 2)configuraciones 3)Administrar jugadores 4)estadisticas 5)salir: ";
        cin >> menu;
        switch(menu){
            case 1:
                jugar();
                break;
            case 2:
                configuraciones();
                break;
            case 3:
                administrarJugadores(nuevoJug);
                break;
            case 4:
                estadisticas(nuevoJug);
                break;
            case 5:
                salir = 1;
                break;
            default:
                cout << "Opcion invalida\n";
                break;
        }
    }
    return 0;
}

void jugar(){
    int savedstate=0;
    if(dificultad==0){
        cout << "Vuelve al menu y selecciona la dificultad en configuraciones\n";
        return;
    }
    if(guardada == 1){
        cout << "hay una partida guardada, quiere 1)reanudarla 2)Nueva partida: ";
        cin >> savedstate;
    }
    if(savedstate != 1){
        for(int i = 0; i < (filas*2)+2;i++){
            for(int j = 0; j < (columnas*2)+2;j++){
                if(i == (filas*2)+1){
                    if(j%2==0 && j!=0){
                        tablero[i][j]="--";
                    }
                }
                if(j == (columnas*2)+1){
                    if(i%2==0 && i!=0){
                        tablero[i][j]="|";
                    }
                }
                else if(i!=0 && j!=0){
                    if(j%2==0 && i%2==0){
                        tablero[i][j] = "  ";
                    }
                    else if(i%2==0 && j%2!=0 && j!=1 && i!=1){
                        tablero[i][j] = " ";
                    }
                    else if(i%2!=0&&j%2==0&&i!=1&&j!=1&&i!=(filas*2)+1){
                        tablero[i][j] = "  ";
                    }
                }
            }
        }
    }
    system("clear"); //si usa windows cambiar a cls creo que era
    cout << "+------------+" << endl;
    cout << "| Bienvenido |" << endl;
    cout << "|     a      |" << endl;
    cout << "|  cuadrito  |" << endl;
    cout << "+------------+\n\n";
    while(puntaje < ((filas-1)/2)*(columnas-1)/2){
        for(int i = 0; i < (filas*2)+2;i++){
            for(int j = 0; j < (columnas*2)+2;j++){
                cout << tablero[i][j];
            }
            cout << endl;
        }
        cout << "\nIngrese la posicion del punto 1 separados por un espacio (x1, y1): ";
        cin >> x >> y;
        while(x == 0 || x > columnas || y==0 || y > filas){
            cout << "Coordenadas incorrectas del punto 1, ingreselas de nuevo:\n";
            cin >> x >> y;
        }
        cout << "Ingrese la posicion del punto 2 separados por un espacio (x2, y2): ";
        cin >> xfinal >> yfinal;
        while(xfinal == 0 || xfinal > columnas || yfinal==0 || yfinal > filas){
            cout << "Coordenadas incorrectas del punto 2, ingreselas de nuevo: este\n";
            cin >> xfinal >> yfinal;
        }
        if(x == -1 || xfinal == -1 || y == -1 || yfinal == -1){
            cout << "partida guardada, regresando al menu\n";
            guardada = 1;
            break;
        }
        while((x+1!=xfinal&&x-1!=xfinal&&x!=xfinal)||(y+1!=yfinal&&y-1!=yfinal&&y!=yfinal)){
            cout << "Coordenadas incorrectas, ingrese unas nuevas este otro\n";
            cout << "Ingrese la posicion del punto 1 separados por un espacio (x1, y1): ";
            cin >> x >> y;
            cout << "Ingrese la posicion del punto 2 separados por un espacio (x2, y2): ";
            cin >> xfinal >> yfinal;
        }
        while((x-1==xfinal&&y-1==yfinal)||(x-1==xfinal&&y+1==yfinal)||(x+1==xfinal&&y-1==yfinal)||(x+1==xfinal&&y+1==yfinal)){
            cout << "Coordenadas incorrectas, ingrese unas nuevas lo dudo\n";
            cout << "Ingrese la posicion del punto 1 separados por un espacio (x1,y1): ";
            cin >> x >> y;
            cout << "Ingrese la posicion del punto 2 separados por un espacio (x2,y2): ";
            cin >> xfinal >> yfinal;
        }
        if(x-1==xfinal&&y==yfinal){
            ultx = (x*2)-2;
            ulty = (y*2)-1;
            tablero[ulty][ultx]="--";
        }
        else if(x+1==xfinal&&y==yfinal){
            ultx = (x*2);
            ulty = (y*2)-1;
            tablero[ulty][ultx] = "--";
        }
        else if(x==xfinal&&y-1==yfinal){
            ultx = (x*2)-1;
            ulty = (y*2)-2;
            tablero[ulty][ultx] = "|";
        }
        else if(x==xfinal&&y+1==yfinal){
            ultx = (x*2)-1;
            ulty = (y*2);
            tablero[ulty][ultx] = "|";
        }
        system("clear");
    }
    return;
}

void configuraciones(){
    cout << "Selecciona la dificultad, 1)principiante, 2)intermedio, 3)avanzado, 4)personalizado: \n";
    cin >> dificultad;
    while(dificultad < 1 || dificultad > 4){
        cout << "Opcion invalida, ingrese una nuevamente: ";
        cin >> dificultad;
    }
    switch(dificultad){
        case 1:
            filas = 9;
            columnas = 9;
            break;
        case 2:
            filas = 16;
            columnas = 16;
            break;
        case 3:
            filas = 16;
            columnas = 30;
            break;
        case 4:
            cout << "Ingrese la cantidad de filas (1-20): ";
            cin >> filas;
            while(filas < 1 || filas > 20){
                cout << "opcion invalida, ingrese un valor entre 1 y 20: ";
                cin >> filas;
            }
            cout << "Ingrese el numero de columnas (1-60): ";
            cin >> columnas;
            while(columnas < 1 || columnas > 60){
                cout << "Opcion invalida, ingrese un numero entre 1 y 60: ";
                cin >> columnas;
            }
            break;
    }
    return;
}

void eliminar(struct InfoJugadores nuevoJug){
    string compalias, elimtemp;
    char compaliaschar[50];
    int hay = 0;
    cout << "Ingrese el alias del jugador:\n";
    getline(cin>>ws,compalias);
    strcpy(compaliaschar,compalias.c_str());
    fclose(jugadores);
    jugadores = fopen("jugadores.txt","r+");
    fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
    fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
    while(!feof(jugadores)){
        if(compalias == nuevoJug.alias){
            elimtemp = "";
            strcpy(nuevoJug.nombre,elimtemp.c_str());
            strcpy(nuevoJug.apellido,elimtemp.c_str());
            strcpy(nuevoJug.alias,elimtemp.c_str());
            nuevoJug.codigoJugador = 0;
            nuevoJug.jugados = 0;
            nuevoJug.ganados = 0;
            fseek(jugadores,ftell(jugadores)-sizeof(nuevoJug),SEEK_SET);
            fwrite(&nuevoJug,sizeof(nuevoJug),1,jugadores);
            hay=1;
            break;
        }
        fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
    }
    if(hay == 0){
        cout << "No existe ese alias\n";
    }
    return;
}

void administrarJugadores(struct InfoJugadores nuevoJug){
    int jug = 0;
    string temp;
    cout << "desea 1)crear un jugador 2)eliminar un jugador?: ";
    cin >> jug;
    while(jug < 1 || jug > 2){
        cout << "Opcion invalida, ingrese una nuevamente: ";
        cin >> jug;
    }
    if(jug == 1){
        if(contador == 20){
            cout << "No quedan jugadores, elimine uno\n";
        }
        else{
            nuevoJug.codigoJugador = contadorCod;
            cout << "Ingrese el nombre del jugador:\n";
            getline(cin>>ws,temp);
            strcpy(nuevoJug.nombre, temp.c_str());
            cout << "Ingrese el apellido del jugador:\n";
            getline(cin>>ws,temp);
            strcpy(nuevoJug.apellido, temp.c_str());
            cout << "Ingrese el alias del jugador:\n";
            getline(cin>>ws,temp);
            strcpy(nuevoJug.alias,temp.c_str());
            nuevoJug.jugados = 0;
            nuevoJug.ganados = 0;
            fwrite(&nuevoJug,sizeof(nuevoJug),1,jugadores);
            contador ++;
            contadorCod ++;
            cout << "jugador creado con exito\n";
        }
    }
    else if(jug == 2){
        eliminar(nuevoJug);
    }
    return;
}

void estadisticas(struct InfoJugadores nuevoJug){
    int punt = 0;
    cout << "Deseas 1)Mejores puntajes 2)Informacion jugadores 3)exportar reportes: ";
    cin >> punt;
    while(punt < 1 || punt > 3){
        cout << "Opcion incorrecta, ingrese una opcion valida: ";
        cin >> punt;
    }
    switch(punt){
        case 1:
            break;
        case 2:
            fclose(jugadores);
            jugadores=fopen("jugadores.txt","r+");
            fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
            fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
            while(!feof(jugadores)){
                if(nuevoJug.codigoJugador != 0){
                    cout << "codigo: " << nuevoJug.codigoJugador << endl;
                    cout << "nombre: " << nuevoJug.nombre << " " << nuevoJug.apellido << endl;
                    cout << "alias: " << nuevoJug.alias << endl;
                    cout << "Partidas jugadas: " << nuevoJug.jugados << endl;
                    cout << "Partidas ganadas: " << nuevoJug.ganados << "\n\n";
                }
                fread(&nuevoJug,sizeof(nuevoJug),1,jugadores);
            }
            break;
        case 3:
            break;
    }
    return;
}
 
